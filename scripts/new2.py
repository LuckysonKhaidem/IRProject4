from newsplease import NewsPlease
from gensim.summarization.summarizer import summarize
import json

news_results = []
urls=["https://www.usatoday.com/story/news/nation/2019/10/18/amazon-rainforest-still-burning-more-fires-future/4011238002/", "https://www.nytimes.com/2019/11/02/world/americas/brazil-amazon-fires-cowboys.html", "https://www.bbc.com/news/world-latin-america-49971563", "https://www.cnn.com/2019/10/03/health/amazon-fire-children-breathing-intl-hnk-scli/index.html", "https://www.washingtonpost.com/politics/2019/10/07/brazilian-amazon-is-still-burning-who-is-responsible/", "https://www.vice.com/en_us/article/vb5n54/why-the-amazon-is-really-on-fire-and-why-its-going-to-keep-burning", "https://www.nbcnews.com/news/world/amazon-still-fire-conservation-groups-blame-illegal-logging-criminal-networks-n1056236", "https://www.nationalgeographic.com/environment/2019/08/amazon-fires-cause-deforestation-graphic-map/", "https://phys.org/news/2019-10-amazon-rainforest.html", "https://www.businessinsider.com/amazon-rainforest-fire-fighting-photos-brazil-bolivia-2019-10", "https://www.newsweek.com/amazon-rainforest-still-fire-number-blazes-dropped-september-2019-total-still-record-high-1462939", "https://insideclimatenews.org/news/05102019/pope-amazon-forest-fires-synod-bolsonaro-religion-catholic-church-climate-change", "https://www.cbsnews.com/news/amazon-rainforest-wildfires-nyc-and-la-officials-urge-boycott-of-meat-companies-linked-to-amazon-fires/", "https://www.vox.com/science-and-health/2019/11/18/20970604/amazon-rainforest-2019-brazil-burning-deforestation-bolsonaro", "https://www.cnbc.com/2019/11/29/2020-election-is-trumps-to-lose-says-bet-founder-bob-johnson.html","https://www.politico.com/news/2019/11/27/pete-buttigieg-campaign-message-074268", "https://www.politico.com/news/2019/11/12/hillary-clinton-boris-johnson-russian-meddling-069818", "https://economictimes.indiatimes.com/news/elections/assembly-elections/maharashtra/bjp-pushes-to-seal-deal-to-form-maharashtra-government/articleshow/71798777.cms", "https://www.bbc.com/news/world-asia-india-48455829?intlink_from_url=https://www.bbc.com/news/topics/c27kzzpqm7xt/india-elections-2019&link_location=live-reporting-story", "https://arstechnica.com/science/2019/11/election-polls-arent-broken-but-they-still-cant-predict-the-future/", "https://gulfnews.com/world/asia/india/maharashtra-elections-the-day-democracy-was-stabbed-in-the-back-in-india-1.1574580703171", "https://www.reuters.com/article/us-brazil-politics/brazils-bolsonaro-launches-his-own-party-in-political-gambit-idUSKBN1XV1TN","https://www.engadget.com/2019/11/20/whatsapp-banned-400000-accounts-brazil-election/", "https://www.bloomberg.com/news/articles/2019-11-29/democrats-to-accuse-trump-of-seeking-foreign-election-help", "https://www.cnbc.com/2019/11/29/2020-election-is-trumps-to-lose-says-bet-founder-bob-johnson.html", "https://www.politico.com/news/2019/11/12/hillary-clinton-boris-johnson-russian-meddling-069818", "https://economictimes.indiatimes.com/news/elections/assembly-elections/maharashtra/bjp-pushes-to-seal-deal-to-form-maharashtra-government/articleshow/71798777.cms", "https://www.bbc.com/news/world-asia-india-48455829?intlink_from_url=https://www.bbc.com/news/topics/c27kzzpqm7xt/india-elections-2019&link_location=live-reporting-story", "https://arstechnica.com/science/2019/11/election-polls-arent-broken-but-they-still-cant-predict-the-future/", "https://gulfnews.com/world/asia/india/maharashtra-elections-the-day-democracy-was-stabbed-in-the-back-in-india-1.1574580703171", "https://www.reuters.com/article/us-brazil-politics/brazils-bolsonaro-launches-his-own-party-in-political-gambit-idUSKBN1XV1TN", "https://www.engadget.com/2019/11/20/whatsapp-banned-400000-accounts-brazil-election/", "https://www.bloomberg.com/news/articles/2019-11-29/democrats-to-accuse-trump-of-seeking-foreign-election-help","https://www.washingtonpost.com/opinions/2019/11/13/narendra-modi-is-indias-trump/","https://www.livemint.com/news/india/trump-to-visit-india-says-has-very-good-relationship-with-the-country-11573238237114.html","https://www.theepochtimes.com/us-and-india-strengthen-strategic-defense-partnership-under-trump-and-modi_3148275.html","https://theprint.in/opinion/india-out-of-rcep-couldnt-risk-another-china-dominated-asean/315778/?ref=is","https://www.counterpunch.org/2019/11/08/schweitzers-reverence-for-life-in-the-age-of-trump-and-modi/", "https://www.usatoday.com/story/news/politics/elections/2019/09/22/trump-bromance-narendra-modi-howdy-modi-rally/2354099001/","https://www.cbc.ca/news/canada/edmonton/a-clean-start-syrian-refugee-opens-popular-soap-store-in-edmonton-1.5379419","https://www.reuters.com/article/us-syria-economy-lebanon/lebanon-crisis-wreaks-havoc-on-syrias-war-torn-economy-idUSKBN1Y31I7","https://www.thedailybeast.com/syria-faces-a-new-foreign-invasion-travel-bloggers","https://nationalinterest.org/blog/skeptics/trumps-big-mistake-he-hasn%E2%80%99t-withdrawn-syria-doubled-down-100622","https://www.jpost.com/Israel-News/Naftali-Bennett-We-need-to-boost-our-campaign-in-Syria-609392","https://www.rudaw.net/english/middleeast/syria/291120192","https://www.latimes.com/world-nation/story/2019-11-29/syria-latest-financial-crisis","https://www.aljazeera.com/news/2019/11/consensus-agenda-syria-constitution-talks-held-geneva-191129181120152.html","https://www.sciencealert.com/the-five-corrupt-pillars-of-climate-change-denial","https://www.cnn.com/2019/11/28/health/climate-crisis-global-tipping-point-intl-hnk/index.html","https://phys.org/news/2019-11-simultaneous-impact-global-agriculture-marine.html","https://www.nationalgeographic.com/science/2019/11/earth-tipping-point/","https://www.cbsnews.com/news/climate-change-students-around-the-world-walkout-and-protest-ahead-of-un-summit/", "https://www.aljazeera.com/news/2019/11/planet-sos-gmo-plants-stop-global-warming-191127113836852.html","https://www.forbes.com/sites/lisettevoytko/2019/11/26/un-climate-report-says-destructive-global-warming-will-result-from-unchecked-emissions/#2caed2102715", "https://www.washingtonpost.com/weather/2019/11/26/with-climate-change-washington-may-have-entered-era-more-blockbuster-snowstorms-less-snow-overall/"]
for url in urls:
	try:
		print("Proccessing url {}".format(url))
		article = NewsPlease.from_url(url)
		news_result = {"title" : article.title , "text" : article.text, "url" : url, "summary" : summarize(article.text), "image_url" : article.image_url, "maintext" : article.maintext, "language" : article.language}
		news_results.append(news_result)
	except Exception as e:
		print(e)

with open("do1.json","w") as f:
	f.write(json.dumps(news_results, indent = 2))


